# Projeto de Software
## Folha de Pagamento

### Padrões de projeto usados:
#### Foram usados do GoF:
- Strategy
- Command

### Refatoramentos e Code Smells:

  - *Feature Envy*: Primeiramente, o pacote fpg foi completamente reestruturado e foram criados diretórios diferentes para cada tipo de coisa a ser feita: agora a package fpg contém as pastas agenda, employees, main, payment e command, o que adequou melhor o nome de cada coisa e a função designada.
  - *Duplicated Code, Long Method, Type Checking, Large Class, Primitive Obsession*: Na Classe Main foi feita uma refatoração completa e agora contém apenas a declaração e execução da Classe Roll. No diretório command contém a implementação do padrão de projeto Command. A classe Roll contém agora a maior parte do código que antes era da main. Foi criada dentro da mesma o método show_employee_list, já que é preciso usar essa ideia em várias opções diferentes(pois várias precisam pedir o ID do funcionário). A Classe Main diminuiu de mais de 600 linhas para menos de 10. Com isso, códigos duplicados foram removidos, classes e métodos diminuíram de tamanho, o uso de variáveis diminuiu consideravelmente e o número de erros também. A legibilidade melhorou significativamente.
  - *Feature Envy, Long Method, Duplicated Code, Primitive Obsession*: No lugar de manusear o calendário e criar as agendas dos funcionários em uma classe só (PaymentRoll), agora temos o diretório Agenda e o diretório Payment, onde na Classe Agenda temos a Classe Calendar_Save que armazena a instância do calendário e contém métodos para passar os dias (pass_day, pass_Ndays) e também as Classes e Interface AgendaStrategy implementam as Agendas dos funcionários, calculando a data do pagamento e registrando a data de cadastro, diferente do Projeto anterior que fazia tudo na mesma função, e ainda foi usado o padrão de projeto Strategy para criar as agendas de pagamento, e com isso foi resolvido o Code Smell de usar muitos IFs.
  - *Feature Envy, Primitive Obsession, Long Method, Duplicated Code*: Na Classe Payment contém a Classe PayRoll que verifica os pagamentos do dia e passa os dias e as outras classes e a Interface CalculatePaymentStrategy usam Strategy e o objetivo desse conjunto de classes é calcular os pagamentos de cada tipo de funcionário(Horista, Salariado, etc), e com isso foram resolvidos muitos Smells, além de resolver o uso de muitos IFs também. O código antigo gerava muitos erros e usar Strategy parece ter sido uma boa escolha. O código também ficou mais legível(outro Smell resolvido).
  - *Long Parameter List, Primitive Obsession*: Na Classes dos Employees antiga continha vários atributos do tipo inteiros para guardar a data de pagamento e e data de cadastro, um Smell, que foi resolvido com a criação do conjunto de classes agenda. Assim, foram feitos pequenos ajustes nos Employees para manusear as novas classes de pagamento e agenda. Ademais, não houveram grandes mudanças nos Employees. 
  - *Long Method, Primitive Obsession, Large Class, Duplicated Code*: Com os Refatoramentos, as classes obtidas do refatoramento também chamam muitos outros métodos e estes últimos também, o que resolveu boa parte dos Long Methods que o código antigo tinha. Além disso, na nova Classe MainSelector7(Rodar Folha para hoje), foi implementada a funcionalidade de escolher a quantidade dias que se deseja passar.
 - Com o uso do padrão Command, a função Undo e Redo foi completamente refeita, pois antes continha uma Classe para fazer isso, e como o Command funciona de uma maneira específica, a Classe Undo_Redo do Projeto antigo foi excluída.
 
